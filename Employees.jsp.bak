<%@taglib uri='/WEB-INF/mytags/tmtags.tld' prefix='tm' %>
<tm:Module name='EMPLOYEE'/>
<link rel='stylesheet' type='text/css' href='/styletwo/css/Employees.css'>
<jsp:include page='/MasterPageTopSection.jsp'/>
<script src='/styletwo/js/Employees.js'></script>
<script>
function createDynamicRowOnClick(rowAddress,employeeId)
{
	return function()
	{
		selectEmployee(rowAddress,employeeId);
	};
}
function populateEmployeeGridTable()
{
	var employeesGridTable = document.getElementById("employeesGridTable");
	var employeeGridTableBody = employeesGridTable.getElementsByTagName("tbody")[0];
    var employeeGridTableBodyRow = employeeGridTableBody.getElementsByTagName("tr")[0];
	employeeGridTableBodyRow.remove();
	var dynamicRow;
	var dynamicRowCells;
	var cellTemplate;
	var placeHolderFor;
	for(var k=0; k<employees.length; k++)
	{
		dynamicRow = employeeGridTableBodyRow.cloneNode(true);
		employeeGridTableBody.appendChild(dynamicRow);
		dynamicRowCells=dynamicRow.getElementsByTagName("td");
		for(i=0; i<dynamicRowCells.length; i++)
		{
			cellTemplate = dynamicRowCells[i];
			placeHolderFor = cellTemplate.getAttribute("placeHolderId");
			if(placeHolderFor==null) continue;
			if(placeHolderFor=="serialNumber") cellTemplate.innerHTML=(k+1);
			if(placeHolderFor=="employeeId") cellTemplate.innerHTML=employees[k].employeeId;
			if(placeHolderFor=="name") cellTemplate.innerHTML=employees[k].name;
			if(placeHolderFor=="designationCode") cellTemplate.innerHTML=employees[k].designationCode;
			if(placeHolderFor=="title") cellTemplate.innerHTML=employees[k].designation;
		    if(placeHolderFor=="dateOfBirth") cellTemplate.innerHTML=employees[k].dateOfBirth;
			if(placeHolderFor=="gender") cellTemplate.innerHTML=employees[k].gender;
			if(placeHolderFor=="isInidan") cellTemplate.innerHTML=employees[k].isInidan;
		    if(placeHolderFor=="basicSalary") cellTemplate.innerHTML=employees[k].basicSalary;
		    if(placeHolderFor=="panNumber") cellTemplate.innerHTML=employees[k].panNumber;
		    if(placeHolderFor=="aadharCardNumber") cellTemplate.innerHTML=employees[k].aadharCardNumber;
			if(placeHolderFor=="editOption") cellTemplate.innerHTML="<a href='/styletwo/EditEmployee?employeeId="+employees[k].employeeId+"'><b style='color:#2F4F4F'>edit</b></a>";
		    if(placeHolderFor=="deleteOption") cellTemplate.innerHTML="<a href='/styletwo/ConfirmDeleteEmployee?employeeId="+employees[k].employeeId+"'><b style='color:#E0FFFF'>delete</b></a>";
		}
		dynamicRow.onclick = createDynamicRowOnClick(dynamicRow,employees[k].employeeId);
    }
}
window.addEventListener('load',populateEmployeeGridTable);
</script>
<h1 style='text-align:left'>Employees</h1>
<div class='EmployeeGrid'>
<table border='1' id='employeesGridTable'>
<thead>
<tr>
<th colspan='6' class='TopTableRow'><a href='/styletwo/EmployeeAddForm.jsp'><b style='color:#2F4F4F'>Add new Employee</b></a></th>
</tr>
<tr>
<th class='SnoInTable'>S.no</th>
<th class='IdInTable'>Id.</th>
<th class='NameInTable'>Name</th>
<th class='DesignationInTable'>Designation</th>
<th class='EditLinkInTable'>Edit</th>
<th class='DeleteLinkInTable'>Delete</th>
</tr>
</thead>
<tbody>

<tr style='cursor:pointer'>
<td style='text-align:right' placeHolderId='serialNumber'></td>
<td style='text-align:center;background:#2F4F4F;color:#E0FFFF' placeHolderId='employeeId'></td>
<td style='text-align:center' placeHolderId='name'></td>
<td style='text-align:center;background:#2F4F4F;color:#E0FFFF' placeHolderId='title'></td>
<td style='text-align:center' placeHolderId='editOption'></td>
<td style='text-align:center;background:#2F4F4F' placeHolderId='deleteOption'></td>
</tr>

</tbody>
</table>
</div>
<!--Panel section starts here-->
<div class='panelSection'>
<label style='background:#2F4F4F;color:#E0FFFF;padding-left:5px;padding-right:5px;margin-top:8px;margin-left:8px;'>Details</label>
<table border='0' width='100%'>
<tr>
<td><b style='color:#2F4F4F'>Employee Id : </b><span id='detailPanel_employeeId' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Name : </b><span id='detailPanel_name' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Designation : </b><span id='detailPanel_designation' style='margin-right:30px'></span></td>
</tr>
<tr>
<td><b style='color:#2F4F4F'>Date of Birth : </b><span id='detailPanel_dateOfBirth' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Gender : </b><span id='detailPanel_gender' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Is indian : </b><span id='detailPanel_isIndian' style='margin-right:30px'></span></td>
</tr>
<tr>
<td><b style='color:#2F4F4F'>Basic salary : </b><span id='detailPanel_basicSalary' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Pan card no. : </b><span id='detailPanel_panNumber' style='margin-right:30px'></span></td>
<td><b style='color:#2F4F4F'>Aadhar card no. : </b><span id='detailPanel_aadharCardNumber' style='margin-right:30px'></span></td>
</tr>
</table>
</div>
<!--Panel section ends here-->
<jsp:include page='/MasterPageBottomSection.jsp'/>